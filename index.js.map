{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport axios from 'axios';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport { searchImage } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\nimport errorIcon from './img/error.png';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('ul.gallery');\nconst loader = document.querySelector('.loader');\n\nlet lightbox = new SimpleLightbox('.gallery a',\n    {\n  captionsData: 'alt',\n  captionDelay: 250,\n    }\n);\n\niziToast.settings({\n  timeout: 4000,\n  position: 'topRight',\n});\n\n\nconst createGalary = e => {\n  e.preventDefault();\n  gallery.innerHTML = '';\n  loader.style.display = 'block';\n  const searchText = e.target.elements.search.value.trim();\n\n  if (!searchText) {\n    iziToast.error({\n      iconUrl: errorIcon,\n      iconColor: '#fff',\n      imageWidth: 24,\n      messageColor: '#fff',\n      message: 'Please write a query for search',\n    });\n    loader.style.display = 'none';\n    return;\n  }\n\n  searchImage(searchText)\n    .then(({ hits }) => {\n     if (hits.length === 0) {\n        iziToast.error({\n          iconUrl: errorIcon,\n          iconColor: '#fff',\n          imageWidth: 24,\n          messageColor: '#fff',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n       loader.style.display = 'none';\n       return;\n      }\n        const images = renderImages(hits);\n      gallery.innerHTML = images;\n      loader.style.display = 'none';\n      lightbox.refresh();\n      form.reset();\n    })\n    .catch(error => {\n      console.log(error);\n      iziToast.error({\n        iconUrl: errorIcon,\n        iconColor: '#fff',\n        imageWidth: 24,\n        messageColor: '#fff',\n        message: error.message,\n      });\n      loader.style.display = 'none';\n    });\n};\n\nform.addEventListener('submit', createGallery);\n"],"names":["form","SimpleLightbox","iziToast"],"mappings":"6vBAUA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAC3B,SAAS,cAAc,YAAY,EACpC,SAAS,cAAc,SAAS,EAEhC,IAAIC,EAAe,aAC9B,CACF,aAAc,MACd,aAAc,GACX,CACL,EAEAC,EAAS,SAAS,CAChB,QAAS,IACT,SAAU,UACZ,CAAC,EAqDDF,EAAK,iBAAiB,SAAU,aAAa"}